<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Boost your mood in seconds with fun, science-backed tasks tailored to how you feel. Try Mood to Task now!">
    <meta name="keywords" content="mood boost, quick tasks, mental health, emotional well-being">
    <meta name="robots" content="index, follow">
    <title>Mood to Task | Boost Your Mood Instantly</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <script defer src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1511837633001567" crossorigin="anonymous" data-ad-init-load="300"></script>
    <!-- Google tag (gtag.js) -->
    <script defer src="https://www.googletagmanager.com/gtag/js?id=G-4985X51W1J"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-4985X51W1J');
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <style>
        .popup { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.2); z-index: 1000; max-width: 90%; }
        .popup-content { text-align: center; }
        .tool-button { background: #28a745; color: #fff; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; margin: 5px; }
        .tool-button:hover { background: #218838; }
        #gratitude-text, #worry-text { width: 100%; max-width: 300px; margin: 10px 0; }
        .tools-container { text-align: center; margin: 20px auto; max-width: 600px; display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; }
        #punching-bag { width: 100px; height: 100px; background: #ff4f41; border-radius: 50%; cursor: pointer; margin: 10px auto; display: flex; align-items: center; justify-content: center; color: #fff; font-weight: bold; }
        #punching-bag:hover { background: #e64539; }
        #doodle-canvas { border: 1px solid #ccc; }
        #color-square { width: 100px; height: 100px; margin: 10px auto; }
    </style>
</head>
<body>
    <nav id="nav">
        <div class="logo">Mood<span>Task</span></div>
        <div class="nav-links">
            <a href="index.html" class="nav-button active">Home</a>
            <a href="blog.html" class="nav-button">Blog</a>
            <a href="tasks-to-impact.html" class="nav-button">Tasks to Impact</a>
            <a href="about.html" class="nav-button">About</a>
        </div>
    </nav>

    <div class="hero-section">
        <h1>Boost Your Mood in Seconds</h1>
        <h2>Fun, Quick Tasks Tailored to How You Feel</h2>
        <button class="hero-cta pulse-animation" onclick="document.getElementById('mood-prompt').scrollIntoView({ behavior: 'smooth' })">Get Started</button>
    </div>

    <div id="mood-prompt">
        <div id="instruction">How are you feeling right now?</div>
        <div id="mood-buttons">
            <button class="tired" data-mood="tired" data-tooltip="Feeling low-energy or exhausted?"><span class="mood-icon">😴</span>Tired</button>
            <button class="stressed" data-mood="stressed" data-tooltip="Feeling tense or overwhelmed?"><span class="mood-icon">😓</span>Stressed</button>
            <button class="bored" data-mood="bored" data-tooltip="Feeling uninspired or restless?"><span class="mood-icon">🥱</span>Bored</button>
            <button class="excited" data-mood="excited" data-tooltip="Feeling energized and thrilled?"><span class="mood-icon">🤩</span>Excited</button>
            <button class="sad" data-mood="sad" data-tooltip="Feeling down or blue?"><span class="mood-icon">😢</span>Sad</button>
            <button class="angry" data-mood="angry" data-tooltip="Feeling frustrated or mad?"><span class="mood-icon">😡</span>Angry</button>
            <button class="happy" data-mood="happy" data-tooltip="Feeling cheerful and content?"><span class="mood-icon">😊</span>Happy</button>
            <button class="confused" data-mood="confused" data-tooltip="Feeling puzzled or unsure?"><span class="mood-icon">🤔</span>Confused</button>
        </div>
        <div id="result"></div>
        <!-- Tools Container -->
        <div class="tools-container">
            <button class="tool-button" onclick="showBreathingTimer()">Start Breathing Exercise</button>
            <button class="tool-button" onclick="showGratitudeNote()">Write a Gratitude Note</button>
            <button class="tool-button" onclick="showSoundscape()">Play a Soundscape</button>
            <button class="tool-button" onclick="showPunchingBag()">Punch Out Frustration</button>
            <button class="tool-button" onclick="showStretch()">Quick Stretch</button>
            <button class="tool-button" onclick="showDoodle()">Doodle Dash</button>
            <button class="tool-button" onclick="showDance()">Happy Dance</button>
            <button class="tool-button" onclick="showWorryShredder()">Shred a Worry</button>
            <button class="tool-button" onclick="showColorPicker()">Mood Color</button>
        </div>
        <!-- Breathing Exercise Popup -->
        <div id="breathing-popup" class="popup">
            <div class="popup-content">
                <h4>Breathing Exercise</h4>
                <p id="breathing-step">Inhale</p>
                <p id="breathing-timer">4</p>
                <button class="close-button" onclick="closePopup('breathing-popup')">Close</button>
            </div>
        </div>
        <!-- Gratitude Note Popup -->
        <div id="gratitude-popup" class="popup">
            <div class="popup-content">
                <h4>Gratitude Note</h4>
                <textarea id="gratitude-text" rows="3" placeholder="What are you thankful for?"></textarea>
                <button class="tool-button" onclick="saveGratitude()">Save</button>
                <p id="gratitude-result" style="display: none;"></p>
                <button class="close-button" onclick="closePopup('gratitude-popup')">Close</button>
            </div>
        </div>
        <!-- Soundscape Popup -->
        <div id="soundscape-popup" class="popup">
            <div class="popup-content">
                <h4>90-Second Soundscape</h4>
                <audio id="soundscape-audio" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"></audio>
                <button class="tool-button" onclick="toggleSoundscape()">Play</button>
                <p id="soundscape-timer">90</p>
                <button class="close-button" onclick="closePopup('soundscape-popup')">Close</button>
            </div>
        </div>
        <!-- Punching Bag Popup -->
        <div id="punching-popup" class="popup">
            <div class="popup-content">
                <h4>Punch Out Frustration</h4>
                <div id="punching-bag" onclick="punchBag()">Punch Me!</div>
                <p id="punch-count">Punches: 0</p>
                <p id="punch-timer">30</p>
                <button class="close-button" onclick="closePopup('punching-popup')">Close</button>
            </div>
        </div>
        <!-- Stretch Popup -->
        <div id="stretch-popup" class="popup">
            <div class="popup-content">
                <h4>60-Second Stretch</h4>
                <p id="stretch-prompt"></p>
                <p id="stretch-timer">60</p>
                <button class="close-button" onclick="closePopup('stretch-popup')">Close</button>
            </div>
        </div>
        <!-- Doodle Popup -->
        <div id="doodle-popup" class="popup">
            <div class="popup-content">
                <h4>90-Second Doodle</h4>
                <canvas id="doodle-canvas" width="200" height="150" style="border: 1px solid #ccc;"></canvas>
                <p id="doodle-timer">90</p>
                <button class="tool-button" onclick="saveDoodle()">Save</button>
                <button class="close-button" onclick="closePopup('doodle-popup')">Close</button>
            </div>
        </div>
        <!-- Dance Popup -->
        <div id="dance-popup" class="popup">
            <div class="popup-content">
                <h4>30-Second Dance Party</h4>
                <p id="dance-prompt"></p>
                <p id="dance-timer">30</p>
                <button class="close-button" onclick="closePopup('dance-popup')">Close</button>
            </div>
        </div>
        <!-- Worry Shredder Popup -->
        <div id="worry-popup" class="popup">
            <div class="popup-content">
                <h4>Worry Shredder</h4>
                <textarea id="worry-text" rows="3" placeholder="Type a worry..."></textarea>
                <button class="tool-button" onclick="shredWorry()">Shred It</button>
                <p id="worry-result" style="display: none;"></p>
                <button class="close-button" onclick="closePopup('worry-popup')">Close</button>
            </div>
        </div>
        <!-- Color Picker Popup -->
        <div id="color-popup" class="popup">
            <div class="popup-content">
                <h4>60-Second Color Focus</h4>
                <p id="color-prompt"></p>
                <div id="color-square" style="width: 100px; height: 100px; margin: 10px auto;"></div>
                <p id="color-timer">60</p>
                <button class="close-button" onclick="closePopup('color-popup')">Close</button>
            </div>
        </div>
    </div>

    <div id="intro-content">
        <h2 class="section-heading">Why Mood to Task?</h2>
        <div class="feature-cards">
            <div class="feature-card">
                <span class="feature-icon">⚡</span>
                <h3>Instant Mood Boost</h3>
                <p>Get quick, fun tasks to shift your mood in under a minute.</p>
            </div>
            <div class="feature-card">
                <span class="feature-icon">🧠</span>
                <h3>Science-Backed</h3>
                <p>Activities rooted in psychology and neuroscience.</p>
            </div>
            <div class="feature-card">
                <span class="feature-icon">🎯</span>
                <h3>Tailored to You</h3>
                <p>Personalized tasks based on your current mood.</p>
            </div>
        </div>

        <div class="premium-offer">
            <p class="disclaimer"><em>Affiliate Disclosure: Mood to Task may earn a commission if you click the link below and make a purchase, at no additional cost to you.</em></p>
            <p class="ad-label">Sponsored: Support Your Mental Health with Online Therapy</p>
            <a href="https://onlinetherapy.go2cloud.org/aff_c?offer_id=2&aff_id=4837&file_id=5" class="banner-link">
                <img src="https://media.go2speed.org/brand/files/onlinetherapy/2/online-therapy-banner_728x90.jpg" alt="Online Therapy Banner" class="banner-img">
            </a>
            <img src="https://onlinetherapy.go2cloud.org/aff_i?offer_id=2&file_id=5&aff_id=4837" width="0" height="0" style="position:absolute;visibility:hidden;" border="0" />
            <div class="ad-info">
                <h4>Why Choose Online Therapy?</h4>
                <ul>
                    <li>Individual and couples therapy</li>
                    <li>Weekly 45-minute live sessions (video, voice, or text)</li>
                    <li>Unlimited messaging with every plan</li>
                    <li>A comprehensive 8-section CBT program with 25 worksheets</li>
                    <li>Daily worksheet replies (Mon-Fri)</li>
                    <li>Exclusive yoga & meditation videos, a journal, activity plan & tests</li>
                    <li>Instant therapist match and the flexibility to seamlessly change therapists</li>
                    <li>20% discount using the code: <strong>THERAPY20</strong></li>
                    <li>Financial aid options available during checkout</li>
                </ul>
            </div>
        </div>

        <p class="disclaimer"><em>General Disclaimer: Mood to Task provides suggestions for informational purposes only. These are not substitutes for professional medical or psychological advice.</em></p>
    </div>

    <button id="share" class="share-button" aria-label="Share this page on X">
        <svg class="share-logo" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
        </svg>
        <span>Share on X</span>
    </button>

    <div id="donate">
        <h3>Support Us</h3>
        <p>If you enjoy Mood to Task, consider buying us a coffee!</p>
        <a href="https://www.buymeacoffee.com/moodtask" target="_blank" rel="noopener noreferrer">
            <img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me a Coffee" style="width: 150px; height: auto;">
        </a>
    </div>

    <footer>
        <div class="footer-columns">
            <div class="footer-column">
                <h4>Mood to Task</h4>
                <p>Transform your mood in seconds with fun, quick activities tailored to how you feel.</p>
            </div>
            <div class="footer-column">
                <h4>Quick Links</h4>
                <a href="index.html" class="footer-link">Home</a>
                <a href="blog.html" class="footer-link">Blog</a>
                <a href="tasks-to-impact.html" class="footer-link">Tasks to Impact</a>
                <a href="about.html" class="footer-link">About</a>
            </div>
            <div class="footer-column">
                <h4>Legal</h4>
                <a href="privacy.html" class="footer-link">Privacy Policy</a>
                <a href="terms.html" class="footer-link">Terms of Use</a>
            </div>
        </div>
        <p class="disclaimer"><em>General Disclaimer: Mood to Task provides this website for informational purposes only. We are not responsible for any errors, omissions, or outcomes resulting from the use of this information. Users follow external links, including those to third-party sites, at their own risk. Always review the terms and privacy policies of external websites.</em></p>
        <p class="copyright">© 2025 Mood to Task. All rights reserved.</p>
    </footer>

    <script>
        // Mood button interaction
        const moodButtons = document.querySelectorAll('#mood-buttons button');
        const resultDiv = document.getElementById('result');
        const tasks = {
            tired: [
                { task: "Take a quick power nap for 10-20 minutes to recharge.", question: "Did that nap give you a little boost?" },
                { task: "Do a gentle 5-minute stretch to wake up your body.", question: "Feeling a bit more limber now?" }
            ],
            stressed: [
                { task: "Try a 1-minute deep breathing exercise: inhale for 4, hold for 4, exhale for 4.", question: "Feel a bit calmer now?" },
                { task: "Write down 3 things stressing you out, then crumple the paper and toss it.", question: "Did that feel satisfying?" }
            ],
            bored: [
                { task: "Doodle something silly for 2 minutes—let your imagination run wild!", question: "Did that spark some fun?" },
                { task: "Watch a funny 1-minute video online.", question: "Did you get a chuckle out of that?" }
            ],
            excited: [
                { task: "Dance to your favorite song for 2 minutes to ride that high!", question: "Still buzzing with energy?" },
                { task: "Tell someone (or yourself!) about what’s exciting you in 30 seconds.", question: "Did sharing amp it up?" }
            ],
            sad: [
                { task: "Listen to an uplifting song for 3 minutes and let it sink in.", question: "Did that lift your spirits a bit?" },
                { task: "Write down 1 thing you’re grateful for today.", question: "Did that shift your perspective?" }
            ],
            angry: [
                { task: "Punch a pillow for 30 seconds to let off some steam.", question: "Feel a bit lighter now?" },
                { task: "Take 10 slow, deep breaths to cool down.", question: "Did that help you chill out?" }
            ],
            happy: [
                { task: "Share your happiness—text a friend a quick positive message.", question: "Did spreading joy feel good?" },
                { task: "Do a quick happy dance for 30 seconds!", question: "Still smiling after that?" }
            ],
            confused: [
                { task: "Jot down your thoughts for 1 minute to untangle them.", question: "Any clearer now?" },
                { task: "Take a 2-minute break and look out a window to reset.", question: "Did that help you refocus?" }
            ]
        };

        moodButtons.forEach(button => {
            button.addEventListener('click', () => {
                moodButtons.forEach(btn => btn.classList.remove('selected'));
                button.classList.add('selected');
                const mood = button.getAttribute('data-mood');
                showTask(mood);
                gtag('event', 'Mood Selection', {
                    'event_category': 'Mood',
                    'event_label': mood
                });
            });
        });

        function showTask(mood) {
            const taskList = tasks[mood];
            const randomTask = taskList[Math.floor(Math.random() * taskList.length)];
            const emoji = document.querySelector(`button[data-mood="${mood}"] .mood-icon`).textContent;
            resultDiv.innerHTML = `
                <div class="chat-bubble">
                    <div class="task-header">
                        <span class="mood-emoji">${emoji}</span>
                        <h3>${mood.charAt(0).toUpperCase() + mood.slice(1)}</h3>
                    </div>
                    <p class="task-text">${randomTask.task}</p>
                    <p class="follow-up-question">${randomTask.question}</p>
                    <div class="task-buttons">
                        <button class="favorite-button"><span class="heart-icon">❤️</span>Favorite</button>
                        <button class="new-task-button">New Task</button>
                    </div>
                </div>
            `;
            resultDiv.classList.add('show');

            const favoriteButton = resultDiv.querySelector('.favorite-button');
            const newTaskButton = resultDiv.querySelector('.new-task-button');

            favoriteButton.addEventListener('click', () => {
                favoriteButton.style.backgroundColor = '#ff4f41';
                gtag('event', 'Favorite Task', {
                    'event_category': 'Task',
                    'event_label': `${mood} - ${randomTask.task}`
                });
            });

            newTaskButton.addEventListener('click', () => {
                showTask(mood);
                gtag('event', 'New Task Request', {
                    'event_category': 'Task',
                    'event_label': mood
                });
            });
        }

        // Add scroll effect for nav
        window.addEventListener('scroll', () => {
            const nav = document.getElementById('nav');
            if (window.scrollY > 50) {
                nav.classList.add('scrolled');
            } else {
                nav.classList.remove('scrolled');
            }
        });

        // Share on X functionality
        document.getElementById('share').addEventListener('click', () => {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent('Boost your mood instantly with Mood to Task! Fun, quick tasks tailored to how you feel. #MoodToTask');
            window.open(`https://x.com/intent/tweet?url=${url}&text=${text}`, '_blank');
            gtag('event', 'Share', {
                'event_category': 'Social',
                'event_label': 'X'
            });
        });

        // Breathing Exercise Timer
        function showBreathingTimer() {
            const popup = document.getElementById('breathing-popup');
            const step = document.getElementById('breathing-step');
            const timer = document.getElementById('breathing-timer');
            let totalTime = 60;
            let phaseTime = 4;
            let phase = 0;
            popup.style.display = 'block';
            
            const steps = ["Inhale", "Hold", "Exhale"];
            step.textContent = steps[phase];
            timer.textContent = phaseTime;
            
            const interval = setInterval(() => {
                phaseTime--;
                timer.textContent = phaseTime;
                
                if (phaseTime <= 0) {
                    phase = (phase + 1) % 3;
                    step.textContent = steps[phase];
                    phaseTime = 4;
                }
                
                totalTime--;
                if (totalTime <= 0) {
                    clearInterval(interval);
                    step.textContent = "Great job! Feel calmer?";
                    timer.textContent = "";
                }
            }, 1000);
        }

        // Gratitude Note Generator
        function showGratitudeNote() {
            document.getElementById('gratitude-popup').style.display = 'block';
        }

        function saveGratitude() {
            const text = document.getElementById('gratitude-text').value;
            const result = document.getElementById('gratitude-result');
            if (text) {
                result.textContent = `You wrote: "${text}" - Nice one!`;
                result.style.display = 'block';
                document.getElementById('gratitude-text').style.display = 'none';
                document.querySelector('#gratitude-popup .tool-button').style.display = 'none';
                setTimeout(() => closePopup('gratitude-popup'), 3000);
            }
        }

        // Soundscape Player
        function showSoundscape() {
            document.getElementById('soundscape-popup').style.display = 'block';
        }

        function toggleSoundscape() {
            const audio = document.getElementById('soundscape-audio');
            const timer = document.getElementById('soundscape-timer');
            let timeLeft = 90;
            if (audio.paused) {
                audio.play();
                const interval = setInterval(() => {
                    timer.textContent = timeLeft;
                    timeLeft--;
                    if (timeLeft < 0) {
                        clearInterval(interval);
                        audio.pause();
                        audio.currentTime = 0;
                        timer.textContent = "Done! Refocused?";
                    }
                }, 1000);
            } else {
                audio.pause();
                audio.currentTime = 0;
                timer.textContent = "90";
            }
        }

        // Punching Bag
        let punchCount = 0;
        function showPunchingBag() {
            const popup = document.getElementById('punching-popup');
            const count = document.getElementById('punch-count');
            const timer = document.getElementById('punch-timer');
            let timeLeft = 30;
            punchCount = 0;
            count.textContent = "Punches: 0";
            timer.textContent = timeLeft;
            popup.style.display = 'block';
            
            const interval = setInterval(() => {
                timeLeft--;
                timer.textContent = timeLeft;
                if (timeLeft < 0) {
                    clearInterval(interval);
                    count.textContent = `Punches: ${punchCount} - Feel lighter?`;
                    document.getElementById('punching-bag').style.display = 'none';
                }
            }, 1000);
        }

        function punchBag() {
            punchCount++;
            document.getElementById('punch-count').textContent = `Punches: ${punchCount}`;
            const bag = document.getElementById('punching-bag');
            bag.style.transform = 'scale(0.9)';
            setTimeout(() => bag.style.transform = 'scale(1)', 100);
        }

        // Quick Stretch Challenge
        function showStretch() {
            const popup = document.getElementById('stretch-popup');
            const prompt = document.getElementById('stretch-prompt');
            const timer = document.getElementById('stretch-timer');
            const stretches = ["Reach for the sky", "Touch your toes", "Side stretch left", "Side stretch right"];
            let timeLeft = 60;
            prompt.textContent = stretches[Math.floor(Math.random() * stretches.length)];
            popup.style.display = 'block';
            
            const interval = setInterval(() => {
                timer.textContent = timeLeft;
                timeLeft--;
                if (timeLeft < 0) {
                    clearInterval(interval);
                    prompt.textContent = "Nice stretch! Energized?";
                    timer.textContent = "";
                }
            }, 1000);
        }

        // Doodle Dash
        function showDoodle() {
            const popup = document.getElementById('doodle-popup');
            const canvas = document.getElementById('doodle-canvas');
            const ctx = canvas.getContext('2d');
            const timer = document.getElementById('doodle-timer');
            let timeLeft = 90;
            let drawing = false;
            popup.style.display = 'block';
            
            canvas.addEventListener('mousedown', () => drawing = true);
            canvas.addEventListener('mouseup', () => drawing = false);
            canvas.addEventListener('mousemove', (e) => {
                if (drawing) {
                    const rect = canvas.getBoundingClientRect();
                    ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
                    ctx.stroke();
                }
            });
            ctx.beginPath();
            
            const interval = setInterval(() => {
                timer.textContent = timeLeft;
                timeLeft--;
                if (timeLeft < 0) {
                    clearInterval(interval);
                    timer.textContent = "Cool doodle! Inspired?";
                }
            }, 1000);
        }

        function saveDoodle() {
            const canvas = document.getElementById('doodle-canvas');
            const link = document.createElement('a');
            link.download = 'doodle.png';
            link.href = canvas.toDataURL();
            link.click();
        }

        // Happy Dance Party
        function showDance() {
            const popup = document.getElementById('dance-popup');
            const prompt = document.getElementById('dance-prompt');
            const timer = document.getElementById('dance-timer');
            const dances = ["Spin around", "Wave your arms", "Hop on one foot", "Shimmy side to side"];
            let timeLeft = 30;
            prompt.textContent = dances[Math.floor(Math.random() * dances.length)];
            popup.style.display = 'block';
            
            const interval = setInterval(() => {
                timer.textContent = timeLeft;
                timeLeft--;
                if (timeLeft < 0) {
                    clearInterval(interval);
                    prompt.textContent = "Dance it out! Still happy?";
                    timer.textContent = "";
                }
            }, 1000);
        }

        // Worry Shredder
        function showWorryShredder() {
            document.getElementById('worry-popup').style.display = 'block';
        }

        function shredWorry() {
            const text = document.getElementById('worry-text').value;
            const result = document.getElementById('worry-result');
            if (text) {
                result.textContent = "Shredding...";
                result.style.display = 'block';
                document.getElementById('worry-text').style.display = 'none';
                document.querySelector('#worry-popup .tool-button').style.display = 'none';
                setTimeout(() => {
                    result.textContent = "Worry shredded! Lighter now?";
                }, 2000);
            }
        }

        // Mood Color Picker
        function showColorPicker() {
            const popup = document.getElementById('color-popup');
            const prompt = document.getElementById('color-prompt');
            const square = document.getElementById('color-square');
            const timer = document.getElementById('color-timer');
            const colors = [
                { name: "Blue to soothe", hex: "#3498db" },
                { name: "Yellow to uplift", hex: "#f1c40f" },
                { name: "Green to calm", hex: "#2ecc71" }
            ];
            let timeLeft = 60;
            const picked = colors[Math.floor(Math.random() * colors.length)];
            prompt.textContent = picked.name;
            square.style.backgroundColor = picked.hex;
            popup.style.display = 'block';
            
            const interval = setInterval(() => {
                timer.textContent = timeLeft;
                timeLeft--;
                if (timeLeft < 0) {
                    clearInterval(interval);
                    prompt.textContent = "Color worked? Feeling better?";
                    timer.textContent = "";
                }
            }, 1000);
        }

        // Close Popup Function
        function closePopup(id) {
            const popup = document.getElementById(id);
            popup.style.display = 'none';
            if (id === 'gratitude-popup') {
                document.getElementById('gratitude-text').style.display = 'block';
                document.getElementById('gratitude-result').style.display = 'none';
                document.querySelector('#gratitude-popup .tool-button').style.display = 'block';
                document.getElementById('gratitude-text').value = '';
            } else if (id === 'soundscape-popup') {
                const audio = document.getElementById('soundscape-audio');
                audio.pause();
                audio.currentTime = 0;
                document.getElementById('soundscape-timer').textContent = "90";
            } else if (id === 'punching-popup') {
                document.getElementById('punching-bag').style.display = 'flex';
            } else if (id === 'worry-popup') {
                document.getElementById('worry-text').style.display = 'block';
                document.getElementById('worry-result').style.display = 'none';
                document.querySelector('#worry-popup .tool-button').style.display = 'block';
                document.getElementById('worry-text').value = '';
            } else if (id === 'doodle-popup') {
                const canvas = document.getElementById('doodle-canvas');
                const ctx = canvas.getContext('2d');
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            }
        }
    </script>
</body>
</html>
